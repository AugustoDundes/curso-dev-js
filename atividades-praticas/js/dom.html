<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <div class="container mt-4">
        <header class="text-center">
            <h1>Exemplos Práticos DOM</h1>
        </header>

        <main>   

            <div class="card my-5">
                <div class="card-header h1">Lendo o Conteúdo de um Elemento</div>
                <div class="card-body">
                    <input type="text" class="form-control" for="paragrafo-exemplo" placeholder="Insira um Texto" id="paragrafo-exemplo">
                    <br>
                    <button class="btn btn-secondary mt-2" id="btn-ler">Ler Texto do Parágrafo</button>
                </div>
            </div>

            <div class="card my-5">
                <div class="card-header h1">Alterando o Conteúdo de um Elemento</div>
                <div class="card-body">
                    <h6 id="titulo-para-mudar">Clique no botão para mudar este título!</h6>
                    <button class="btn btn-primary" id="btn-mudar">Mudar Título</button>
                </div>
            </div>

            <div class="card my-5">
                <div class="card-header h1">Interagindo com Campos de Input</div>
                <div class="card-body">
                    <div class="mb-3">
                        <label for="nome-usuario" class="form-label">Digite seu nome:</label>
                        <input type="text" class="form-control" id="nome-usuario" placeholder="Seu nome aqui">
                    </div>
                    <button class="btn btn-success" id="btn-saudacao">Enviar Saudação</button>
                    <p class="mt-3 fs-5" id="resultado-saudacao"></p>
                </div>
            </div>
            <div class="card my-5">
            <div class="card-header h1">Mudar cor fundo da tela</div>
        <div class="card-body">
            <div class="mb-3">
                <label for="cor-fundo" class="form-label">Escolha uma cor para o fundo:</label>
                <input type="color" class="form-control" id="cor-fundo">
                <button class="btn btn-warning" id="btn-mudar-cor-fundo">Mudar Cor de Fundo</button>
                <br>
                <label for="cor-div" class="form-label">Escolha uma cor para os cards:</label>
                <input type="color" class="form-control" id="cor-div">
                <button class="btn btn-warning" id="btn-mudar-cor-div">Mudar Cor de Fundo</button>
            </div>
        </div>
        </div>
        </main>
    </div>

    <script>
        const btnLer = document.querySelector('#btn-ler');
        const paragrafoExemplo = document.querySelector('#paragrafo-exemplo');
        btnLer.addEventListener('click', () => {
            alert(paragrafoExemplo.value);
            console.log(paragrafoExemplo.value);
        });
        const btnMudar = document.querySelector('#btn-mudar');
        const tituloParaMudar = document.querySelector('#titulo-para-mudar');
        btnMudar.addEventListener('click', () => {
            tituloParaMudar.textContent = 'Título Alterado com Sucesso!';
        });
        const btnSaudacao = document.querySelector('#btn-saudacao');
        const nomeUsuario = document.querySelector('#nome-usuario');
        const resultadoSaudacao = document.querySelector('#resultado-saudacao');
        btnSaudacao.addEventListener('click', () => {
            const nome = nomeUsuario.value.trim();
            if (nome) {
                resultadoSaudacao.textContent = `Olá, ${nome}! Seja bem-vindo(a)!`;
            } else {
                resultadoSaudacao.textContent = 'Por favor, digite seu nome.';
            }
        });
        const btnMudarCorFundo = document.querySelector('#btn-mudar-cor-fundo');
    const corFundo = document.querySelector('#cor-fundo');
    const btnMudarCorDiv = document.querySelector('#btn-mudar-cor-div');
    const corDiv = document.querySelector('#cor-div');

    function calcularLuminancia(hex) {
        hex = hex.replace('#', '');

        let r = parseInt(hex.substr(0, 2), 16);
        let g = parseInt(hex.substr(2, 2), 16);
        let b = parseInt(hex.substr(4, 2), 16);

        r = r / 255;
        g = g / 255;
        b = b / 255;

        r = r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4);
        g = g <= 0.03928 ? g / 12.92 : Math.pow((g + 0.055) / 1.055, 2.4);
        b = b <= 0.03928 ? b / 12.92 : Math.pow((b + 0.055) / 1.055, 2.4);

        const luminancia = 0.2126 * r + 0.7152 * g + 0.0722 * b;
        return luminancia;
    }

    function mudarCorTexto(fundoCorHex) {
    const luminancia = calcularLuminancia(fundoCorHex);
    const corTexto = luminancia < 0.5 ? 'white' : 'black';  

    document.body.style.color = corTexto;

    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
        card.style.color = corTexto; 
    });
}

btnMudarCorFundo.addEventListener('click', () => {
    const corFundoHex = corFundo.value;
    document.body.style.backgroundColor = corFundoHex;  

});





    btnMudarCorDiv.addEventListener('click', () => {
        const corDivHex = corDiv.value;
        const cards = document.querySelectorAll('.card');
        cards.forEach(card => {
            card.style.backgroundColor = corDivHex;
            mudarCorTexto(corDivHex); 
        });
    });
    </script>

</body>
</html>